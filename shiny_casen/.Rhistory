}
}
#datallll <-rbind(datallll,llll_fila)
}
datallll
dataset2006_sub <- dataset06[1:100000,]
write.csv(dataset2006_sub,"mydata2006_sub.csv", row.names = FALSE)
w <- dataset2006[[6]] %>% attr('labels')
head(w,4)
#### Aqui se obtienen los nombres de las comunas
a <- names(w)
head(a,4)
b<-w[[4]]
b
# head(a,5)
dataset06 <- read.csv('mydata2006_sub.csv')
colnames(dataset06)
dataset06 <- read.csv('mydata2006_sub.csv')
a <- dataset06$comuna
b <- dataset06$t4
c <- dataset06$e1
d <- dataset06$sexo
cross_tab= table(a, b, c, d)
cross_tab
tabla <- as.data.frame(cross_tab)
#head(tabla,10)
head(tabla,10)
d <-tabla[!(tabla$Freq == 0),]
# d
# llll<-d[,1]
# llll
datallll <- data.frame()
#nrow(d)
for(i in 1: nrow(d)){
llll_fila <- d[i,]
llll<-d[i,1]
sentenceString <- toString(llll)
searchString <- ' '
replacementString <- ''
sentenceString = sub(searchString,replacementString,sentenceString)
sentenceString
#print(sentenceString)
w <- dataset2006[[6]] %>% attr('labels')
for(j in 1: 336){
ww<-names(w[j])
vv<-tolower(ww)
if(sentenceString==vv){
llll_fila <- cbind(llll_fila,w[[j]])
llll_fila <- cbind(llll_fila,"2006")
datallll <-rbind(datallll,llll_fila)
}
}
#datallll <-rbind(datallll,llll_fila)
}
datallll
#dataset2006_sub <- dataset06[1:100000,]
dataset2006_sub <- dataset06
write.csv(dataset2006_sub,"mydata2006_sub.csv", row.names = FALSE)
w <- dataset2006[[6]] %>% attr('labels')
head(w,4)
#### Aqui se obtienen los nombres de las comunas
a <- names(w)
head(a,4)
b<-w[[4]]
b
# head(a,5)
dataset06 <- read.csv('mydata2006_sub.csv')
colnames(dataset06)
dataset06 <- read.csv('mydata2006_sub.csv')
a <- dataset06$comuna
b <- dataset06$t4
c <- dataset06$e1
d <- dataset06$sexo
cross_tab= table(a, b, c, d)
cross_tab
tabla <- as.data.frame(cross_tab)
#head(tabla,10)
head(tabla,10)
d <-tabla[!(tabla$Freq == 0),]
# d
# llll<-d[,1]
# llll
datallll <- data.frame()
#nrow(d)
for(i in 1: nrow(d)){
llll_fila <- d[i,]
llll<-d[i,1]
sentenceString <- toString(llll)
searchString <- ' '
replacementString <- ''
sentenceString = sub(searchString,replacementString,sentenceString)
sentenceString
#print(sentenceString)
w <- dataset2006[[6]] %>% attr('labels')
for(j in 1: 336){
ww<-names(w[j])
vv<-tolower(ww)
if(sentenceString==vv){
llll_fila <- cbind(llll_fila,w[[j]])
llll_fila <- cbind(llll_fila,"2006")
datallll <-rbind(datallll,llll_fila)
}
}
#datallll <-rbind(datallll,llll_fila)
}
datallll
write.csv(datallll,"muestra_Patricio_2006.csv", row.names = FALSE)
w <- dataset2006[[6]] %>% attr('labels')
# head(w,4)
# #### Aqui se obtienen los nombres de las comunas
# a <- names(w)
# head(a,4)
# b<-w[[4]]
# b
# # head(a,5)
#length(a)
dataset06 <- read.csv('mydata2006_sub.csv')
colnames(dataset06)
#dataset06 <- read.csv('mydata2006_sub.csv')
a <- dataset06$comuna
b <- dataset06$t4
c <- dataset06$e1
d <- dataset06$sexo
cross_tab= table(a, b, c, d)
# cross_tab
tabla <- as.data.frame(cross_tab)
write.csv(datallll,"muestra_m_Patricio_2006.csv", row.names = FALSE)
nrow(dataset06)
dataset06 <- read.dta('casen2006.dta')
nrow(dataset06)
#dataset2006_sub <- dataset06[1:100000,]
dataset2006_sub <- dataset06
write.csv(dataset2006_sub,"mydata2006_sub.csv", row.names = FALSE)
#dataset2006_sub <- dataset06[1:100000,]
dataset2006_sub <- dataset06
write.csv(dataset2006_sub,"mydata2006_sub.csv", row.names = FALSE)
suppressWarnings(library(RODBC))
library(ggplot2)
library(ggpubr)
library(markdown)
library(shiny)
library(shinythemes)
library(tidyverse)
library(magrittr)
library(lubridate)
library(plotly)
library(xts)
library(dygraphs)
library(kableExtra)
library(knitr)
library("readxl")
library(rsconnect)
library(dplyr)
library(summarytools)
library(epiDisplay)
#library(leaflet)
library(haven)
library(epiDisplay)
library("readxl")
library(expss)
library(hrbrthemes)
library(viridis)
library(viridisLite)
library(DescTools)
library(roperators)
library(shinycssloaders)
library(writexl)
library(labelled)
library(tidyverse)
library(haven)
library(readr)
library(sjmisc)
library(WriteXLS)
dataset06 <- read.dta('casen2006.dta')
nrow(dataset06)
#dataset2006_sub <- dataset06[1:100000,]
dataset2006_sub <- dataset06[1:1000,]
write.csv(dataset2006_sub,"mydata2006_sub.csv", row.names = FALSE)
dataset2006 <- read_sav('casen2006.sav')
w <- dataset2006[[6]] %>% attr('labels')
# head(w,4)
# #### Aqui se obtienen los nombres de las comunas
# a <- names(w)
# head(a,4)
# b<-w[[4]]
# b
# # head(a,5)
#length(a)
dataset06 <- read.csv('mydata2006_sub.csv')
colnames(dataset06)
#dataset06 <- read.csv('mydata2006_sub.csv')
a <- dataset06$comuna
b <- dataset06$t4
c <- dataset06$e1
d <- dataset06$sexo
cross_tab= table(a, b, c, d)
# cross_tab
tabla <- as.data.frame(cross_tab)
write.csv(datallll,"muestra_m_Patricio_2006.csv", row.names = FALSE)
#dataset06 <- read.csv('mydata2006_sub.csv')
a <- dataset06$comuna
b <- dataset06$t4
c <- dataset06$e1
d <- dataset06$sexo
cross_tab= table(a, b, c, d)
# cross_tab
datallll <- as.data.frame(cross_tab)
write.csv(datallll,"muestra_m_Patricio_2006.csv", row.names = FALSE)
d <-tabla[!(tabla$Freq == 0),]
# d
# llll<-d[,1]
# llll
datallll <- data.frame()
#nrow(d)
for(i in 1: nrow(d)){
llll_fila <- d[i,]
llll<-d[i,1]
sentenceString <- toString(llll)
searchString <- ' '
replacementString <- ''
sentenceString = sub(searchString,replacementString,sentenceString)
sentenceString
#print(sentenceString)
w <- dataset2006[[6]] %>% attr('labels')
for(j in 1: 336){
ww<-names(w[j])
vv<-tolower(ww)
if(sentenceString==vv){
llll_fila <- cbind(llll_fila,w[[j]])
llll_fila <- cbind(llll_fila,"2006")
datallll <-rbind(datallll,llll_fila)
}
}
#datallll <-rbind(datallll,llll_fila)
}
datallll
write.csv(datallll,"muestra_Patricio_2006.csv", row.names = FALSE)
#dataset2006_sub <- dataset06[1:100000,]
dataset2006_sub <- dataset06[1:5000,]
write.csv(dataset2006_sub,"mydata2006_sub.csv", row.names = FALSE)
w <- dataset2006[[6]] %>% attr('labels')
# head(w,4)
# #### Aqui se obtienen los nombres de las comunas
# a <- names(w)
# head(a,4)
# b<-w[[4]]
# b
# # head(a,5)
#length(a)
dataset06 <- read.csv('mydata2006_sub.csv')
colnames(dataset06)
#dataset06 <- read.csv('mydata2006_sub.csv')
a <- dataset06$comuna
b <- dataset06$t4
c <- dataset06$e1
d <- dataset06$sexo
cross_tab= table(a, b, c, d)
# cross_tab
datallll <- as.data.frame(cross_tab)
write.csv(datallll,"muestra_m_Patricio_2006.csv", row.names = FALSE)
d <-tabla[!(tabla$Freq == 0),]
# d
# llll<-d[,1]
# llll
datallll <- data.frame()
#nrow(d)
for(i in 1: nrow(d)){
llll_fila <- d[i,]
llll<-d[i,1]
sentenceString <- toString(llll)
searchString <- ' '
replacementString <- ''
sentenceString = sub(searchString,replacementString,sentenceString)
sentenceString
#print(sentenceString)
w <- dataset2006[[6]] %>% attr('labels')
for(j in 1: 336){
ww<-names(w[j])
vv<-tolower(ww)
if(sentenceString==vv){
llll_fila <- cbind(llll_fila,w[[j]])
llll_fila <- cbind(llll_fila,"2006")
datallll <-rbind(datallll,llll_fila)
}
}
#datallll <-rbind(datallll,llll_fila)
}
datallll
write.csv(datallll,"muestra_Patricio_2006.csv", row.names = FALSE)
dataset06 <- read.dta('casen2006.dta')
nrow(dataset06)
#dataset2006_sub <- dataset06[1:100000,]
dataset2006_sub <- dataset06[1:5000,]
write.csv(dataset2006_sub,"mydata2006_sub.csv", row.names = FALSE)
dataset2006 <- read_sav('casen2006.sav')
w <- dataset2006[[6]] %>% attr('labels')
# head(w,4)
# #### Aqui se obtienen los nombres de las comunas
# a <- names(w)
# head(a,4)
# b<-w[[4]]
# b
# # head(a,5)
#length(a)
dataset06 <- read.csv('mydata2006_sub.csv')
colnames(dataset06)
#dataset06 <- read.csv('mydata2006_sub.csv')
a <- dataset06$comuna
b <- dataset06$t4
c <- dataset06$e1
d <- dataset06$sexo
cross_tab= table(a, b, c, d)
# cross_tab
datallll <- as.data.frame(cross_tab)
write.csv(datallll,"muestra_m_Patricio_2006.csv", row.names = FALSE)
d <-tabla[!(tabla$Freq == 0),]
# d
# llll<-d[,1]
# llll
datallll <- data.frame()
#nrow(d)
for(i in 1: nrow(d)){
llll_fila <- d[i,]
llll<-d[i,1]
sentenceString <- toString(llll)
searchString <- ' '
replacementString <- ''
sentenceString = sub(searchString,replacementString,sentenceString)
sentenceString
#print(sentenceString)
w <- dataset2006[[6]] %>% attr('labels')
for(j in 1: 336){
ww<-names(w[j])
vv<-tolower(ww)
if(sentenceString==vv){
llll_fila <- cbind(llll_fila,w[[j]])
llll_fila <- cbind(llll_fila,"2006")
datallll <-rbind(datallll,llll_fila)
}
}
#datallll <-rbind(datallll,llll_fila)
}
datallll
write.csv(datallll,"muestra_Patricio_2006.csv", row.names = FALSE)
datallll
#write.csv(datallll,"muestra_Patricio_2006.csv", row.names = FALSE)
#dataset06 <- read.csv('mydata2006_sub.csv')
a <- dataset06$comuna
b <- dataset06$t4
c <- dataset06$e1
d <- dataset06$sexo
cross_tab= table(a, b, c, d)
# cross_tab
datallll <- as.data.frame(cross_tab)
datallll
#write.csv(datallll,"muestra_m_Patricio_2006.csv", row.names = FALSE)
dataset06 <- read.dta('casen2006.dta')
dataset2006 <- read_sav('casen2006.sav')
nrow(dataset06)
#dataset2006_sub <- dataset06[1:100000,]
dataset2006_sub <- dataset06
write.csv(dataset2006_sub,"mydata2006_sub.csv", row.names = FALSE)
w <- dataset2006[[6]] %>% attr('labels')
# head(w,4)
# #### Aqui se obtienen los nombres de las comunas
# a <- names(w)
# head(a,4)
# b<-w[[4]]
# b
# # head(a,5)
#length(a)
dataset06 <- read.csv('mydata2006_sub.csv')
colnames(dataset06)
#dataset06 <- read.csv('mydata2006_sub.csv')
a <- dataset06$comuna
b <- dataset06$t4
c <- dataset06$e1
d <- dataset06$sexo
cross_tab= table(a, b, c, d)
# cross_tab
datallll <- as.data.frame(cross_tab)
datallll
#write.csv(datallll,"muestra_m_Patricio_2006.csv", row.names = FALSE)
d <-tabla[!(tabla$Freq == 0),]
# d
# llll<-d[,1]
# llll
datallll <- data.frame()
#nrow(d)
for(i in 1: nrow(d)){
llll_fila <- d[i,]
llll<-d[i,1]
sentenceString <- toString(llll)
searchString <- ' '
replacementString <- ''
sentenceString = sub(searchString,replacementString,sentenceString)
sentenceString
#print(sentenceString)
w <- dataset2006[[6]] %>% attr('labels')
for(j in 1: 336){
ww<-names(w[j])
vv<-tolower(ww)
if(sentenceString==vv){
llll_fila <- cbind(llll_fila,w[[j]])
llll_fila <- cbind(llll_fila,"2006")
datallll <-rbind(datallll,llll_fila)
}
}
#datallll <-rbind(datallll,llll_fila)
}
datallll
#write.csv(datallll,"muestra_Patricio_2006.csv", row.names = FALSE)
d <-tabla[!(tabla$Freq == 0),]
datallll <- data.frame()
# for(i in 1: nrow(d)){
#   llll_fila <- d[i,]
#    llll<-d[i,1]
#    sentenceString <- toString(llll)
#            searchString <- ' '
#            replacementString <- ''
#            sentenceString = sub(searchString,replacementString,sentenceString)
#            sentenceString
#
#             w <- dataset2006[[6]] %>% attr('labels')
#             for(j in 1: 336){
#
#
#               ww<-names(w[j])
#              vv<-tolower(ww)
#
#               if(sentenceString==vv){
#                llll_fila <- cbind(llll_fila,w[[j]])
#                llll_fila <- cbind(llll_fila,"2006")
#                datallll <-rbind(datallll,llll_fila)
#              }
#             }
# }
d
#dataset06 <- read.csv('mydata2006_sub.csv')
a <- dataset06$comuna
b <- dataset06$t4
c <- dataset06$e1
d <- dataset06$sexo
cross_tab= table(a, b, c, d)
# cross_tab
tabla <- as.data.frame(cross_tab)
tabla
#write.csv(datallll,"muestra_m_Patricio_2006.csv", row.names = FALSE)
#dataset06 <- read.csv('mydata2006_sub.csv')
a <- dataset06$comuna
b <- dataset06$t4
c <- dataset06$e1
d <- dataset06$sexo
cross_tab= table(a, b, c, d)
# cross_tab
tabla <- as.data.frame(cross_tab)
tabla
#write.csv(datallll,"muestra_m_Patricio_2006.csv", row.names = FALSE)
d <-tabla[!(tabla$Freq == 0),]
datallll <- data.frame()
# for(i in 1: nrow(d)){
#   llll_fila <- d[i,]
#    llll<-d[i,1]
#    sentenceString <- toString(llll)
#            searchString <- ' '
#            replacementString <- ''
#            sentenceString = sub(searchString,replacementString,sentenceString)
#            sentenceString
#
#             w <- dataset2006[[6]] %>% attr('labels')
#             for(j in 1: 336){
#
#
#               ww<-names(w[j])
#              vv<-tolower(ww)
#
#               if(sentenceString==vv){
#                llll_fila <- cbind(llll_fila,w[[j]])
#                llll_fila <- cbind(llll_fila,"2006")
#                datallll <-rbind(datallll,llll_fila)
#              }
#             }
# }
d
d <-tabla[!(tabla$Freq == 0),]
datallll <- data.frame()
for(i in 1: nrow(d)){
llll_fila <- d[i,]
llll<-d[i,1]
sentenceString <- toString(llll)
searchString <- ' '
replacementString <- ''
sentenceString = sub(searchString,replacementString,sentenceString)
sentenceString
w <- dataset2006[[6]] %>% attr('labels')
for(j in 1: 336){
ww<-names(w[j])
vv<-tolower(ww)
if(sentenceString==vv){
llll_fila <- cbind(llll_fila,w[[j]])
llll_fila <- cbind(llll_fila,"2006")
datallll <-rbind(datallll,llll_fila)
}
}
}
datallll
#write.csv(datallll,"muestra_Patricio_2006.csv", row.names = FALSE)
datallll
write.csv(datallll,"muestra_Patricio_2006.csv", row.names = FALSE)
library(shiny); runApp('casen_rojo.R')
runApp('casen_rojo.R')
runApp('casen_rojo.R')
